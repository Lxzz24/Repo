# OOP特征一：封装与隐藏

`3W:  what?  why?  how?`

## 一、问题的引入：
 	
当我们创建一个类的对象以后，我们可以通过 `对象.属性` 的方式，对对象的属性进行赋值，这里，赋值操作要受到属性的数据类型和存储范围的制约。除此之外，没有其他制约条件。

但是，在实际问题中，我们往往需要给属性赋值，加入额外的限制条件。这个条件就不能在属性声明时体现，我们只能通过方法进行限制条件的添加。（比如，setLegs）同时，我们需要避免用户再使用 `对象.属性` 的方式对属性进行赋值，则需要将属性声明为私有的（private）。

→ 此时，针对于属性就体现了封装性。
​

## 二、封装性的体现：

① *我们将类的属性私有化 (private) ，同时，提供公共的 (public) 方法来获取 (getXxx) 和设置 (setXxx) 此属性的值。*  
② 不对外暴露的私有的方法	  
③ 单例模式（将构造器私有化）  
④ 如果不希望类在包外被调用，可以将类设置为缺省的。  
​

## 三、封装性的体现，需要权限修饰符来配合。

1. Java 规定的 4 种权限（从小到大排列），*private* → *缺省* → *protected* → *public*
2. 4 种权限可以用来修饰类及类的内部结构：属性、方法、构造器、内部类

?> 修饰类的话，只能使用：缺省、public

  
Java 提供了 4 中权限修饰符来修饰类及类的内部结构，体现类及类的内部结构在被调用时的可见性的大小。

```java
	private int legs;//腿的个数
	
	//对属性的设置
	public void setLegs(int l){
		if(l >= 0 && l % 2 == 0){
			legs = l;
		}else{
			legs = 0;
			//抛出一个异常（暂时没有讲）
		}
	}
	
	//对属性的获取
	public int getLegs(){
		return legs;
	}
```

![image.png](https://cdn.gxmnzl.xyz/img/SE0409.png)

## 为什么需要封装？封装的作用和含义？

- 我们程序设计追求 “高内聚，低耦合”。
  - *高内聚* ：类的内部数据操作细节自己完成，不允许外部干涉；
  - *低耦合* ：仅对外暴露少量的方法用于使用；
- 隐藏对象内部的复杂性，只对外公开简单的接口。
- 便于外界调用，从而提高系统的可扩展性、可维护性。
  - 通俗的说，把该隐藏的隐藏起来，该暴露的暴露出来。这就是封装性的设计思想。

